{"version":3,"sources":["utils/constants.js","api/token.js","context/AuthContext.js","hooks/useAuth.js","api/user.js","hooks/useUser.js","api/category.js","hooks/useCategory.js","api/product.js","hooks/useProduct.js","api/table.js","hooks/useTable.js","api/orders.js","hooks/useOrder.js","api/payment.js","hooks/usePayment.js","layouts/ClientLayout/ClientLayout.js","components/Admin/LoginForm/LoginForm.js","components/Admin/TopMenu/TopMenu.js","components/Admin/SideMenu/SideMenu.js","components/Admin/HeaderPage/HeaderPage.js","components/Admin/Users/TableUsers/TableUsers.js","components/Admin/Users/AddEditUserForm/AddEditUserForm.js","components/Admin/Category/TableCategoryAdmin/TableCategoryAdmin.js","components/Admin/Category/AddEditCategoryForm/AddEditCategoryForm.js","components/Admin/Product/TableProductAdmin/TableProductAdmin.js","components/Admin/Product/AddEditProductForm/AddEditProductForm.js","components/Common/ModalBasic/ModalBasic.js","components/Common/ModalConfirm/ModalConfirm.js","components/Admin/Table/TableTablesAdmin/TableTablesAdmin.js","components/Admin/Table/AddEditTableForm/AddEditTableForm.js","components/Admin/Table/TablesListAdmin/TablesListAdmin.js","assets/table.svg","components/Admin/Table/TableAdmin/TableAdmin.js","components/Admin/Orders/AddOrderForm/AddOrderForm.js","components/Admin/Payments/TablePayments/TablePayments.js","components/Admin/Payments/PaymentProductList/PaymentProductList.js","pages/Admin/LoginAdmin/LoginAdmin.js","components/Admin/TableDetails/ListOrderAdmin/ListOrderAdmin.js","components/Admin/TableDetails/OrderItemAdmin/OrderItemAdmin.js","components/Admin/TableDetails/PaymentDetail/PaymentDetail.js","layouts/AdminLayout/AdminLayout.js","layouts/BasicLayout.js","routes/routes.admin.js","pages/Admin/OrdersAdmin.js","pages/Admin/UsersAdmin.js","pages/Admin/CategoriesAdmin.js","pages/Admin/ProductAdmin.js","pages/Admin/TablesAdmin.js","pages/Admin/TableDetailsAdmin.js","pages/Admin/PaymentsHistory.js","components/Client/ListCategories/ListCategories.js","api/cart.js","components/Client/ListProducts/ListProducts.js","components/Client/ListProductCart/ListProductCart.js","components/Client/OrderHistoryItem/OrderHistoryItem.js","routes/routes.client.js","pages/Client/SelectTable/SelectTable.js","pages/Client/Categories.js","pages/Client/Cart.js","pages/Client/OrdersHistory.js","pages/Client/Products.js","routes/routes.js","pages/Error404.js","routes/Navigation.js","App.js","reportWebVitals.js","index.js"],"names":["BASE_API","TOKEN","ORDER_STATUS","PAYMENT_STATUS","setToken","token","localStorage","setItem","AuthContext","createContext","auth","undefined","login","logout","AuthProvider","props","children","useState","setAuth","getMe","useUser","useEffect","a","getItem","me","valueContext","removeItem","Provider","value","useAuth","useContext","loginApi","formValue","url","params","method","headers","body","JSON","stringify","fetch","response","status","Error","json","result","getMeApi","Authorization","getUsersApi","addUserApi","data","updateUserApi","id","deleteUserApi","loading","setLoading","error","setError","users","setUsers","getUsers","addUser","updateUser","deleteUser","getCategoriesApi","addCategoryApi","formData","FormData","append","image","title","updateCategoryApi","deleteCategoryApi","useCategory","categories","setCategories","getCategories","addCategory","updateCategory","deleteCategory","getProductsApi","addProductApi","price","category","active","updateProductApi","deleteProductApi","getProductByIdApi","getProductsByCategoryApi","idCategory","categoryFilter","useProduct","products","setProducts","getProducts","addProduct","updateProduct","deleteProduct","getProductById","product","getProductsByCategory","getTablesApi","addTableApi","updateTableApi","deleteTableApi","getTableApi","idTable","getTableByNumberApi","numberTable","tableFilter","useTable","tables","setTables","table","setTable","getTables","addTable","updateTable","deleteTable","getTable","isExistTable","tableNumber","size","getTableByNumber","getOrdersByTableApi","ordering","statusFilter","closeFilter","checkDeliveredOrderApi","addOrderToTableApi","idProduct","addPaymentToOrderApi","idOrder","idPayment","payment","closeOrderApi","close","getOrdersByPaymentApi","paymentFilter","useOrder","orders","setOrders","getOrdersByTable","checkDeliveredOrder","addOrderToTable","addPaymentToOrder","closeOrder","getOrdersByPayment","createPaymentApi","paymentData","getPaymentByTableApi","closePaymentApi","statusPayment","getPaymentsApi","usePayment","payments","setPayments","createPayment","getPaymentByTable","closePayment","getPayments","ClientLayout","useParams","history","useHistory","closeTable","push","className","Container","to","Button","icon","onClick","Icon","name","LoginForm","formik","useFormik","initialValues","email","password","validationSchema","Yup","required","onSubmit","access","toast","message","Form","handleSubmit","Input","placeholder","values","onChange","handleChange","errors","type","content","primary","fluid","TopMenu","Menu","fixed","Item","position","first_name","last_name","renderName","SideMenu","pathname","useLocation","MenuLeft","borderless","vertical","as","Link","is_staff","HeaderPage","btnTitle","btnClick","btnTitleTwo","btnClickTwo","positive","negative","TableUsers","onDeleteUser","Table","Header","Row","HeaderCell","Body","map","user","index","Cell","username","is_active","Actions","textAlign","AddEditUserForm","onClose","onRefetch","validateOnChange","console","Checkbox","toggle","checked","_","setFieldValue","TableCategoryAdmin","width","Image","src","AddEditCategoryForm","previewImage","setPreviewImage","onDrop","useCallback","acceptedFile","file","URL","createObjectURL","useDropzone","accept","noKeyboard","multiple","getRootProps","getInputProps","color","TableProductAdmin","category_data","AddEditProductForm","categoriesFormat","setCategoriesFormat","item","key","text","Dropdown","selection","search","options","ModalBasic","show","Modal","open","Content","defaultProps","ModalConfirm","onCloseText","onConfirm","onConfirmText","TableTablesAdmin","showModal","setShowModal","contentModal","setContentModal","openCloseModal","prev","showQr","style","window","location","origin","number","AddEditTableForm","TablesListAdmin","reload","setReload","autoReload","setAutoReload","onReload","autoReloadAction","setTimeout","check","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgTable","_ref","svgRef","titleId","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","ref","ForwardRef","TableAdmin","tableBusy","setTableBusy","pendingPayment","setPendingPayment","Label","circular","classNames","pending","busy","AddOrderForm","onReloadOrders","productsFormat","setProductsFormat","productsData","setProductsData","addProductList","productsId","arrayTemp","log","avatar","basic","idProducts","splice","removeProductList","TablePayments","titleModal","setTitleModal","table_data","totalPayment","paymentType","moment","created_at","format","showDetails","PaymentProductList","order","product_data","LoginAdmin","ListOrderAdmin","OrderItemAdmin","onCheckDeliveredOrder","toLowerCase","startOf","fromNow","PaymentDetail","onCloseTable","confirm","striped","AdminLayout","BasicLayout","routesAdmin","path","layout","component","Loader","inline","exact","refetch","setRefetch","onDeleteCategory","onDeleteProduct","onDeleteTable","reloadOrders","setReloadOrders","setPaymentData","onCreatePayment","forEach","Number","resultTypePayment","toFixed","ListCategories","PRODUCT_CART","getProductsCart","parse","ListProducts","addCart","addProductCart","success","ListProductCart","onReloadCart","total","setTotal","totalTemp","removeProduct","removeProductCartApi","createOrder","tableData","OrderHistoryItem","routesClient","tableNum","setTableNum","reloadCart","setReloadCart","idProductsCart","productsArray","setIdTable","showTypePayment","setShowTypePayment","isRequestAccount","setIsRequestAccount","idTableTemp","routes","Navigation","route","render","App","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3030eb68.chunk.js","sourcesContent":["export const BASE_API = \"https://sbmcard.herokuapp.com\";\r\nexport const TOKEN = \"token\";\r\n\r\nexport const ORDER_STATUS = {\r\n  PENDING: \"PENDING\",\r\n  DELIVERED: \"DELIVERED\",\r\n};\r\n\r\nexport const PAYMENT_STATUS = {\r\n  PENDING: \"PENDING\",\r\n  PAID: \"PAID\",\r\n};\r\n","import { TOKEN } from \"../utils/constants\";\r\n\r\nexport function setToken(token) {\r\n  localStorage.setItem(TOKEN, token);\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem(TOKEN);\r\n}\r\n\r\nexport function removeToken() {\r\n  localStorage.removeItem(TOKEN);\r\n}\r\n","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { setToken, getToken, removeToken } from \"../api/token\";\r\nimport { useUser } from \"../hooks\";\r\n\r\nexport const AuthContext = createContext({\r\n  auth: undefined,\r\n  login: () => null,\r\n  logout: () => null,\r\n});\r\n\r\nexport function AuthProvider(props) {\r\n  const { children } = props;\r\n  const [auth, setAuth] = useState(undefined);\r\n  const { getMe } = useUser();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const token = getToken();\r\n      if (token) {\r\n        const me = await getMe(token);\r\n        setAuth({ token, me });\r\n      } else {\r\n        setAuth(null);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const login = async (token) => {\r\n    setToken(token);\r\n    const me = await getMe(token);\r\n    setAuth({ token, me });\r\n  };\r\n\r\n  const logout = () => {\r\n    if (auth) {\r\n      removeToken();\r\n      setAuth(null);\r\n    }\r\n  };\r\n\r\n  const valueContext = {\r\n    auth,\r\n    login,\r\n    logout,\r\n  };\r\n\r\n  if (auth === undefined) return null;\r\n\r\n  return (\r\n    <AuthContext.Provider value={valueContext}>{children}</AuthContext.Provider>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context\";\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n","import { BASE_API } from \"../utils/constants\";\r\n\r\nexport async function loginApi(formValue) {\r\n  try {\r\n    const url = `${BASE_API}/api/auth/login/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formValue),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n\r\n    if (response.status !== 200) {\r\n      throw new Error(\"Usuario o contraseña incorrectos\");\r\n    }\r\n\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMeApi(token) {\r\n  try {\r\n    const url = `${BASE_API}/api/auth/me/`;\r\n    const params = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getUsersApi(token) {\r\n  try {\r\n    const url = `${BASE_API}/api/users/`;\r\n    const params = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addUserApi(data, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/users/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function updateUserApi(id, data, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/users/${id}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteUserApi(id, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/users/${id}/`;\r\n    const params = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  getMeApi,\r\n  getUsersApi,\r\n  addUserApi,\r\n  updateUserApi,\r\n  deleteUserApi,\r\n} from \"../api/user\";\r\nimport { useAuth } from \".\";\r\n\r\nexport function useUser() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [users, setUsers] = useState(null);\r\n  const { auth } = useAuth();\r\n\r\n  const getMe = async (token) => {\r\n    try {\r\n      const response = await getMeApi(token);\r\n      return response;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUsersApi(auth.token);\r\n      setLoading(false);\r\n      setUsers(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addUser = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      await addUserApi(data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const updateUser = async (id, data) => {\r\n    try {\r\n      setLoading(true);\r\n      await updateUserApi(id, data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteUserApi(id, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    users,\r\n    getMe,\r\n    getUsers,\r\n    addUser,\r\n    updateUser,\r\n    deleteUser,\r\n  };\r\n}\r\n","import { BASE_API } from \"../utils/constants\";\r\n\r\nexport async function getCategoriesApi() {\r\n  try {\r\n    const url = `${BASE_API}/api/categories/`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addCategoryApi(data, token) {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", data.image);\r\n    formData.append(\"title\", data.title);\r\n\r\n    const url = `${BASE_API}/api/categories/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: formData,\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function updateCategoryApi(id, data, token) {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", data.title);\r\n    if (data.image) formData.append(\"image\", data.image);\r\n\r\n    const url = `${BASE_API}/api/categories/${id}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: formData,\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteCategoryApi(id, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/categories/${id}/`;\r\n    const params = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  getCategoriesApi,\r\n  addCategoryApi,\r\n  updateCategoryApi,\r\n  deleteCategoryApi,\r\n} from \"../api/category\";\r\nimport { useAuth } from \"./\";\r\n\r\nexport function useCategory() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [categories, setCategories] = useState(null);\r\n  const { auth } = useAuth();\r\n\r\n  const getCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getCategoriesApi();\r\n      setLoading(false);\r\n      setCategories(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addCategory = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      await addCategoryApi(data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const updateCategory = async (id, data) => {\r\n    try {\r\n      setLoading(true);\r\n      await updateCategoryApi(id, data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const deleteCategory = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteCategoryApi(id, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    categories,\r\n    getCategories,\r\n    addCategory,\r\n    updateCategory,\r\n    deleteCategory,\r\n  };\r\n}\r\n","import { BASE_API } from \"../utils/constants\";\r\n\r\nexport async function getProductsApi() {\r\n  try {\r\n    const url = `${BASE_API}/api/products/`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addProductApi(data, token) {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", data.title);\r\n    formData.append(\"price\", data.price);\r\n    formData.append(\"category\", data.category);\r\n    formData.append(\"active\", data.active);\r\n    formData.append(\"image\", data.image);\r\n\r\n    const url = `${BASE_API}/api/products/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: formData,\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function updateProductApi(id, data, token) {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", data.title);\r\n    formData.append(\"price\", data.price);\r\n    formData.append(\"category\", data.category);\r\n    formData.append(\"active\", data.active);\r\n    if (data.image) formData.append(\"image\", data.image);\r\n\r\n    const url = `${BASE_API}/api/products/${id}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: formData,\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteProductApi(id, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/products/${id}/`;\r\n    const params = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getProductByIdApi(id) {\r\n  try {\r\n    const url = `${BASE_API}/api/products/${id}/`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getProductsByCategoryApi(idCategory) {\r\n  try {\r\n    const categoryFilter = `category=${idCategory}`;\r\n    const url = `${BASE_API}/api/products/?${categoryFilter}`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  getProductsApi,\r\n  addProductApi,\r\n  updateProductApi,\r\n  deleteProductApi,\r\n  getProductByIdApi,\r\n  getProductsByCategoryApi,\r\n} from \"../api/product\";\r\nimport { useAuth } from \"./\";\r\n\r\nexport function useProduct() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [products, setProducts] = useState(null);\r\n  const { auth } = useAuth();\r\n\r\n  const getProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getProductsApi();\r\n      setLoading(false);\r\n      setProducts(response);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addProduct = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      await addProductApi(data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateProduct = async (id, data) => {\r\n    try {\r\n      setLoading(true);\r\n      await updateProductApi(id, data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteProduct = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteProductApi(id, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getProductById = async (id) => {\r\n    try {\r\n      const product = await getProductByIdApi(id);\r\n      return product;\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getProductsByCategory = async (idCategory) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getProductsByCategoryApi(idCategory);\r\n      setLoading(false);\r\n      setProducts(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    products,\r\n    getProducts,\r\n    addProduct,\r\n    updateProduct,\r\n    deleteProduct,\r\n    getProductById,\r\n    getProductsByCategory,\r\n  };\r\n}\r\n","import { BASE_API } from \"../utils/constants\";\r\n\r\nexport async function getTablesApi(token) {\r\n  try {\r\n    const url = `${BASE_API}/api/tables/`;\r\n    const params = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addTableApi(data, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/tables/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function updateTableApi(id, data, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/tables/${id}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteTableApi(id, token) {\r\n  try {\r\n    const url = `${BASE_API}/api/tables/${id}/`;\r\n    const params = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTableApi(idTable) {\r\n  try {\r\n    const url = `${BASE_API}/api/tables/${idTable}/`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTableByNumberApi(numberTable) {\r\n  try {\r\n    const tableFilter = `number=${numberTable}`;\r\n\r\n    const url = `${BASE_API}/api/tables/?${tableFilter}`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport { size } from \"lodash\";\r\nimport {\r\n  getTablesApi,\r\n  addTableApi,\r\n  updateTableApi,\r\n  deleteTableApi,\r\n  getTableApi,\r\n  getTableByNumberApi,\r\n} from \"../api/table\";\r\nimport { useAuth } from \"./\";\r\n\r\nexport function useTable() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [tables, setTables] = useState(null);\r\n  const [table, setTable] = useState(null);\r\n\r\n  const { auth } = useAuth();\r\n\r\n  const getTables = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getTablesApi(auth.token);\r\n      setLoading(false);\r\n      setTables(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addTable = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      await addTableApi(data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const updateTable = async (id, data) => {\r\n    try {\r\n      setLoading(true);\r\n      await updateTableApi(id, data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const deleteTable = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteTableApi(id, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getTable = async (idTable) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getTableApi(idTable);\r\n      setLoading(false);\r\n      setTable(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const isExistTable = async (tableNumber) => {\r\n    try {\r\n      const response = await getTableByNumberApi(tableNumber);\r\n      if (size(response) === 0) throw Error();\r\n      return true;\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getTableByNumber = async (tableNumber) => {\r\n    try {\r\n      const response = await getTableByNumberApi(tableNumber);\r\n      return response;\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    tables,\r\n    table,\r\n    getTables,\r\n    addTable,\r\n    updateTable,\r\n    deleteTable,\r\n    getTable,\r\n    isExistTable,\r\n    getTableByNumber,\r\n  };\r\n}\r\n","import { BASE_API, ORDER_STATUS } from \"../utils/constants\";\r\n\r\nexport async function getOrdersByTableApi(idTable, status = \"\", ordering = \"\") {\r\n  try {\r\n    const tableFilter = `table=${idTable}`;\r\n    const statusFilter = `status=${status}`;\r\n    const closeFilter = \"close=False\";\r\n\r\n    const url = `${BASE_API}/api/orders/?${tableFilter}&${statusFilter}&${closeFilter}&${ordering}`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function checkDeliveredOrderApi(id) {\r\n  try {\r\n    const url = `${BASE_API}/api/orders/${id}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        status: ORDER_STATUS.DELIVERED,\r\n      }),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addOrderToTableApi(idTable, idProduct) {\r\n  try {\r\n    const url = `${BASE_API}/api/orders/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        status: ORDER_STATUS.PENDING,\r\n        table: idTable,\r\n        product: idProduct,\r\n      }),\r\n    };\r\n    await fetch(url, params);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addPaymentToOrderApi(idOrder, idPayment) {\r\n  try {\r\n    const url = `${BASE_API}/api/orders/${idOrder}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        payment: idPayment,\r\n      }),\r\n    };\r\n    await fetch(url, params);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function closeOrderApi(idOrder) {\r\n  try {\r\n    const url = `${BASE_API}/api/orders/${idOrder}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        close: true,\r\n      }),\r\n    };\r\n    await fetch(url, params);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getOrdersByPaymentApi(idPayment) {\r\n  try {\r\n    const paymentFilter = `payment=${idPayment}`;\r\n\r\n    const url = `${BASE_API}/api/orders/?${paymentFilter}`;\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  getOrdersByTableApi,\r\n  checkDeliveredOrderApi,\r\n  addOrderToTableApi,\r\n  addPaymentToOrderApi,\r\n  closeOrderApi,\r\n  getOrdersByPaymentApi,\r\n} from \"../api/orders\";\r\n\r\nexport function useOrder() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [orders, setOrders] = useState(null);\r\n\r\n  const getOrdersByTable = async (idTable, status, ordering) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getOrdersByTableApi(idTable, status, ordering);\r\n      setLoading(false);\r\n      setOrders(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const checkDeliveredOrder = async (idOrder) => {\r\n    try {\r\n      await checkDeliveredOrderApi(idOrder);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addOrderToTable = async (idTable, idProduct) => {\r\n    try {\r\n      await addOrderToTableApi(idTable, idProduct);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addPaymentToOrder = async (idOrder, idPayment) => {\r\n    try {\r\n      await addPaymentToOrderApi(idOrder, idPayment);\r\n    } catch (error) {\r\n      // console.log(error)\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const closeOrder = async (idOrder) => {\r\n    try {\r\n      await closeOrderApi(idOrder);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getOrdersByPayment = async (idPayment) => {\r\n    try {\r\n      return await getOrdersByPaymentApi(idPayment);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    orders,\r\n    getOrdersByTable,\r\n    checkDeliveredOrder,\r\n    addOrderToTable,\r\n    addPaymentToOrder,\r\n    closeOrder,\r\n    getOrdersByPayment,\r\n  };\r\n}\r\n","import { BASE_API, PAYMENT_STATUS } from \"../utils/constants\";\r\n\r\nexport async function createPaymentApi(paymentData) {\r\n  try {\r\n    const url = `${BASE_API}/api/payments/`;\r\n    const params = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(paymentData),\r\n    };\r\n\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getPaymentByTableApi(idTable) {\r\n  try {\r\n    const tableFilter = `table=${idTable}`;\r\n    const statusFilter = `statusPayment=${PAYMENT_STATUS.PENDING}`;\r\n\r\n    const url = `${BASE_API}/api/payments/?${tableFilter}&${statusFilter}`;\r\n    const params = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const response = await fetch(url, params);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function closePaymentApi(idPayment) {\r\n  try {\r\n    const url = `${BASE_API}/api/payments/${idPayment}/`;\r\n    const params = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        statusPayment: PAYMENT_STATUS.PAID,\r\n      }),\r\n    };\r\n    await fetch(url, params);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getPaymentsApi() {\r\n  try {\r\n    const paymentFilter = `statusPayment=${PAYMENT_STATUS.PAID}`;\r\n    const orderingFilter = \"ordering=created_at\";\r\n\r\n    const url = `${BASE_API}/api/payments/?${paymentFilter}&${orderingFilter}`;\r\n\r\n    const response = await fetch(url);\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport {\r\n  createPaymentApi,\r\n  getPaymentByTableApi,\r\n  closePaymentApi,\r\n  getPaymentsApi,\r\n} from \"../api/payment\";\r\n\r\nexport function usePayment() {\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [payments, setPayments] = useState(null);\r\n\r\n  const createPayment = async (paymentData) => {\r\n    try {\r\n      return await createPaymentApi(paymentData);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getPaymentByTable = async (idTable) => {\r\n    try {\r\n      return await getPaymentByTableApi(idTable);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const closePayment = async (idPayment) => {\r\n    try {\r\n      await closePaymentApi(idPayment);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const getPayments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getPaymentsApi();\r\n      setLoading(false);\r\n      setPayments(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    error,\r\n    loading,\r\n    payments,\r\n    createPayment,\r\n    getPaymentByTable,\r\n    closePayment,\r\n    getPayments,\r\n  };\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Container, Button, Icon } from \"semantic-ui-react\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport { useTable } from \"../../hooks\";\r\nimport \"./ClientLayout.scss\";\r\n\r\nexport function ClientLayout(props) {\r\n  const { children } = props;\r\n  const { isExistTable } = useTable();\r\n  const { tableNumber } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const exist = await isExistTable(tableNumber);\r\n      if (!exist) closeTable();\r\n    })();\r\n  }, [tableNumber]);\r\n\r\n  const closeTable = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const goToCart = () => {\r\n    history.push(`/client/${tableNumber}/cart`);\r\n  };\r\n\r\n  const goToOrders = () => {\r\n    history.push(`/client/${tableNumber}/orders`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"client-layout-bg\">\r\n      <Container className=\"client-layout\">\r\n        <div className=\"client-layout__header\">\r\n          <Link to={`/client/${tableNumber}`}>\r\n            <h1>iCard</h1>\r\n          </Link>\r\n          <span>Mesa {tableNumber}</span>\r\n\r\n          <div>\r\n            <Button icon onClick={goToCart}>\r\n              <Icon name=\"shop\" />\r\n            </Button>\r\n            <Button icon onClick={goToOrders}>\r\n              <Icon name=\"list\" />\r\n            </Button>\r\n            <Button icon onClick={closeTable}>\r\n              <Icon name=\"sign-out\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"client-layout__content\">{children}</div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Form } from \"semantic-ui-react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { toast } from \"react-toastify\";\r\nimport { loginApi } from \"../../../api/user\";\r\nimport { useAuth } from \"../../../hooks\";\r\nimport \"./LoginForm.scss\";\r\n\r\nexport function LoginForm() {\r\n  const { login } = useAuth();\r\n\r\n  const formik = useFormik({\r\n    initialValues: intialValues(),\r\n    validationSchema: Yup.object(validationSchema()),\r\n    onSubmit: async (formValue) => {\r\n      try {\r\n        const response = await loginApi(formValue);\r\n        const { access } = response;\r\n        login(access);\r\n      } catch (error) {\r\n        toast.error(error.message);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Form className=\"login-form-admin\" onSubmit={formik.handleSubmit}>\r\n      <Form.Input\r\n        name=\"email\"\r\n        placeholder=\"Correo electronico\"\r\n        value={formik.values.email}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.email}\r\n      />\r\n      <Form.Input\r\n        name=\"password\"\r\n        type=\"password\"\r\n        placeholder=\"Contraseña\"\r\n        value={formik.values.password}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.password}\r\n      />\r\n      <Button type=\"submit\" content=\"Iniciar sesión\" primary fluid />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction intialValues() {\r\n  return {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n}\r\n\r\nfunction validationSchema() {\r\n  return {\r\n    email: Yup.string().email(true).required(true),\r\n    password: Yup.string().required(true),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Icon, Menu } from \"semantic-ui-react\";\r\nimport { useAuth } from \"../../../hooks\";\r\nimport \"./TopMenu.scss\";\r\n\r\nexport function TopMenu() {\r\n  const { auth, logout } = useAuth();\r\n\r\n  const renderName = () => {\r\n    if (auth.me?.first_name && auth.me?.last_name) {\r\n      return `${auth.me.first_name} ${auth.me.last_name}`;\r\n    }\r\n    return auth.me?.email;\r\n  };\r\n\r\n  return (\r\n    <Menu fixed=\"top\" className=\"top-menu-admin\">\r\n      <Menu.Item className=\"top-menu-admin__logo\">\r\n        <p>Card Admin</p>\r\n      </Menu.Item>\r\n\r\n      <Menu.Menu position=\"right\">\r\n        <Menu.Item>Hola, {renderName()}</Menu.Item>\r\n        <Menu.Item onClick={logout}>\r\n          <Icon name=\"sign-out\" />\r\n        </Menu.Item>\r\n      </Menu.Menu>\r\n    </Menu>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Menu, Icon } from \"semantic-ui-react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../../../hooks\";\r\nimport \"./SideMenu.scss\";\r\n\r\nexport function SideMenu(props) {\r\n  const { children } = props;\r\n  const { pathname } = useLocation();\r\n\r\n  return (\r\n    <div className=\"side-menu-admin\">\r\n      <MenuLeft pathname={pathname} />\r\n      <div className=\"content\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MenuLeft(props) {\r\n  const { pathname } = props;\r\n  const { auth } = useAuth();\r\n\r\n  return (\r\n    <Menu fixed=\"left\" borderless className=\"side\" vertical>\r\n      <Menu.Item as={Link} to={\"/admin\"} active={pathname === \"/admin\"}>\r\n        <Icon name=\"home\" /> Pedidos\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        as={Link}\r\n        to={\"/admin/tables\"}\r\n        active={pathname === \"/admin/tables\"}\r\n      >\r\n        <Icon name=\"table\" /> Mesas\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        as={Link}\r\n        to={\"/admin/payments-history\"}\r\n        active={pathname === \"/admin/payments-history\"}\r\n      >\r\n        <Icon name=\"history\" /> Historial de pagos\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        as={Link}\r\n        to={\"/admin/categories\"}\r\n        active={pathname === \"/admin/categories\"}\r\n      >\r\n        <Icon name=\"folder\" /> Categorias\r\n      </Menu.Item>\r\n\r\n      <Menu.Item\r\n        as={Link}\r\n        to={\"/admin/products\"}\r\n        active={pathname === \"/admin/products\"}\r\n      >\r\n        <Icon name=\"cart\" /> Productos\r\n      </Menu.Item>\r\n\r\n      {auth.me?.is_staff && (\r\n        <Menu.Item\r\n          as={Link}\r\n          to={\"/admin/users\"}\r\n          active={pathname === \"/admin/users\"}\r\n        >\r\n          <Icon name=\"users\" /> Usuarios\r\n        </Menu.Item>\r\n      )}\r\n    </Menu>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport \"./HeaderPage.scss\";\r\n\r\nexport function HeaderPage(props) {\r\n  const { title, btnTitle, btnClick, btnTitleTwo, btnClickTwo } = props;\r\n\r\n  return (\r\n    <div className=\"header-page-admin\">\r\n      <h2>{title}</h2>\r\n\r\n      <div>\r\n        {btnTitle && (\r\n          <Button positive onClick={btnClick}>\r\n            {btnTitle}\r\n          </Button>\r\n        )}\r\n        {btnTitleTwo && (\r\n          <Button negative onClick={btnClickTwo}>\r\n            {btnTitleTwo}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Table, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport \"./TableUsers.scss\";\r\n\r\nexport function TableUsers(props) {\r\n  const { users, updateUser, onDeleteUser } = props;\r\n\r\n  return (\r\n    <Table className=\"table-users-admin\">\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell>Username</Table.HeaderCell>\r\n          <Table.HeaderCell>Email</Table.HeaderCell>\r\n          <Table.HeaderCell>Nombre</Table.HeaderCell>\r\n          <Table.HeaderCell>Apellidos</Table.HeaderCell>\r\n          <Table.HeaderCell>Activo</Table.HeaderCell>\r\n          <Table.HeaderCell>Staff</Table.HeaderCell>\r\n          <Table.HeaderCell></Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n\r\n      <Table.Body>\r\n        {map(users, (user, index) => (\r\n          <Table.Row key={index}>\r\n            <Table.Cell>{user.username}</Table.Cell>\r\n            <Table.Cell>{user.email}</Table.Cell>\r\n            <Table.Cell>{user.first_name}</Table.Cell>\r\n            <Table.Cell>{user.last_name}</Table.Cell>\r\n            <Table.Cell className=\"status\">\r\n              {user.is_active ? <Icon name=\"check\" /> : <Icon name=\"close\" />}\r\n            </Table.Cell>\r\n            <Table.Cell className=\"status\">\r\n              {user.is_staff ? <Icon name=\"check\" /> : <Icon name=\"close\" />}\r\n            </Table.Cell>\r\n\r\n            <Actions\r\n              user={user}\r\n              updateUser={updateUser}\r\n              onDeleteUser={onDeleteUser}\r\n            />\r\n          </Table.Row>\r\n        ))}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n}\r\n\r\nfunction Actions(props) {\r\n  const { user, updateUser, onDeleteUser } = props;\r\n\r\n  return (\r\n    <Table.Cell textAlign=\"right\">\r\n      <Button icon onClick={() => updateUser(user)}>\r\n        <Icon name=\"pencil\" />\r\n      </Button>\r\n      <Button icon negative onClick={() => onDeleteUser(user)}>\r\n        <Icon name=\"close\" />\r\n      </Button>\r\n    </Table.Cell>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Form, Button, Checkbox } from \"semantic-ui-react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useUser } from \"../../../../hooks\";\r\nimport \"./AddEditUserForm.scss\";\r\n\r\nexport function AddEditUserForm(props) {\r\n  const { onClose, onRefetch, user } = props;\r\n  const { addUser, updateUser } = useUser();\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(user),\r\n    validationSchema: Yup.object(user ? updateSchame() : newSchame()),\r\n    validateOnChange: false,\r\n    onSubmit: async (formValue) => {\r\n      try {\r\n        if (user) await updateUser(user.id, formValue);\r\n        else await addUser(formValue);\r\n\r\n        onRefetch();\r\n        onClose();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Form className=\"add-edit-user-form\" onSubmit={formik.handleSubmit}>\r\n      <Form.Input\r\n        name=\"username\"\r\n        placeholder=\"Nombre de usuario\"\r\n        value={formik.values.username}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.username}\r\n      />\r\n      <Form.Input\r\n        name=\"email\"\r\n        placeholder=\"Correo electronico\"\r\n        value={formik.values.email}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.email}\r\n      />\r\n      <Form.Input\r\n        name=\"first_name\"\r\n        placeholder=\"Nombre\"\r\n        value={formik.values.first_name}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.first_name}\r\n      />\r\n      <Form.Input\r\n        name=\"last_name\"\r\n        placeholder=\"Apellidos\"\r\n        value={formik.values.last_name}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.last_name}\r\n      />\r\n      <Form.Input\r\n        name=\"password\"\r\n        type=\"password\"\r\n        placeholder=\"Contraseña\"\r\n        value={formik.values.password}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.password}\r\n      />\r\n\r\n      <div className=\"add-edit-user-form__active\">\r\n        <Checkbox\r\n          toggle\r\n          checked={formik.values.is_active}\r\n          onChange={(_, data) =>\r\n            formik.setFieldValue(\"is_active\", data.checked)\r\n          }\r\n        />\r\n        Usuario activo\r\n      </div>\r\n\r\n      <div className=\"add-edit-user-form__staff\">\r\n        <Checkbox\r\n          toggle\r\n          checked={formik.values.is_staff}\r\n          onChange={(_, data) => formik.setFieldValue(\"is_staff\", data.checked)}\r\n        />\r\n        Usuario administrador\r\n      </div>\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        primary\r\n        fluid\r\n        content={user ? \"Actualizar\" : \"Crear\"}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction initialValues(data) {\r\n  return {\r\n    username: data?.username || \"\",\r\n    email: data?.email || \"\",\r\n    first_name: data?.first_name || \"\",\r\n    last_name: data?.last_name || \"\",\r\n    password: \"\",\r\n    is_active: data?.is_active ? true : false,\r\n    is_staff: data?.is_staff ? true : false,\r\n  };\r\n}\r\n\r\nfunction newSchame() {\r\n  return {\r\n    username: Yup.string().required(true),\r\n    email: Yup.string().email(true).required(true),\r\n    first_name: Yup.string(),\r\n    last_name: Yup.string(),\r\n    password: Yup.string().required(true),\r\n    is_active: Yup.bool().required(true),\r\n    is_staff: Yup.bool().required(true),\r\n  };\r\n}\r\n\r\nfunction updateSchame() {\r\n  return {\r\n    username: Yup.string().required(true),\r\n    email: Yup.string().email(true).required(true),\r\n    first_name: Yup.string(),\r\n    last_name: Yup.string(),\r\n    password: Yup.string(),\r\n    is_active: Yup.bool().required(true),\r\n    is_staff: Yup.bool().required(true),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Table, Image, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport \"./TableCategoryAdmin.scss\";\r\n\r\nexport function TableCategoryAdmin(props) {\r\n  const { categories, updateCategory, deleteCategory } = props;\r\n\r\n  return (\r\n    <Table className=\"table-category-admin\">\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell>Imagen</Table.HeaderCell>\r\n          <Table.HeaderCell>Categoria</Table.HeaderCell>\r\n          <Table.HeaderCell></Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n\r\n      <Table.Body>\r\n        {map(categories, (category, index) => (\r\n          <Table.Row key={index}>\r\n            <Table.Cell width={2}>\r\n              <Image src={category.image} />\r\n            </Table.Cell>\r\n            <Table.Cell>{category.title}</Table.Cell>\r\n\r\n            <Actions\r\n              category={category}\r\n              updateCategory={updateCategory}\r\n              deleteCategory={deleteCategory}\r\n            />\r\n          </Table.Row>\r\n        ))}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n}\r\n\r\nfunction Actions(props) {\r\n  const { category, updateCategory, deleteCategory } = props;\r\n\r\n  return (\r\n    <Table.Cell textAlign=\"right\">\r\n      <Button icon onClick={() => updateCategory(category)}>\r\n        <Icon name=\"pencil\" />\r\n      </Button>\r\n      <Button icon negative onClick={() => deleteCategory(category)}>\r\n        <Icon name=\"close\" />\r\n      </Button>\r\n    </Table.Cell>\r\n  );\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { Form, Image, Button } from \"semantic-ui-react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useCategory } from \"../../../../hooks\";\r\nimport \"./AddEditCategoryForm.scss\";\r\n\r\nexport function AddEditCategoryForm(props) {\r\n  const { onClose, onRefetch, category } = props;\r\n  const [previewImage, setPreviewImage] = useState(category?.image || null);\r\n  const { addCategory, updateCategory } = useCategory();\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(category),\r\n    validationSchema: Yup.object(category ? updateSchema() : newSchema()),\r\n    validateOnChange: false,\r\n    onSubmit: async (formValue) => {\r\n      try {\r\n        if (category) await updateCategory(category.id, formValue);\r\n        else await addCategory(formValue);\r\n\r\n        onRefetch();\r\n        onClose();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const onDrop = useCallback(async (acceptedFile) => {\r\n    const file = acceptedFile[0];\r\n    await formik.setFieldValue(\"image\", file);\r\n    setPreviewImage(URL.createObjectURL(file));\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: \"image/jpeg, image/png\",\r\n    noKeyboard: true,\r\n    multiple: false,\r\n    onDrop,\r\n  });\r\n\r\n  return (\r\n    <Form className=\"add-edit-category-form\" onSubmit={formik.handleSubmit}>\r\n      <Form.Input\r\n        name=\"title\"\r\n        placeholder=\"Nombre de la categoria\"\r\n        value={formik.values.title}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.title}\r\n      />\r\n\r\n      <Button\r\n        type=\"button\"\r\n        fluid\r\n        color={formik.errors.image && \"red\"}\r\n        {...getRootProps()}\r\n      >\r\n        {previewImage ? \"Cambiar imagen\" : \"Subir imagen\"}\r\n      </Button>\r\n      <input {...getInputProps()} />\r\n      <Image src={previewImage} fluid />\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        primary\r\n        fluid\r\n        content={category ? \"Actualizar\" : \"Crear\"}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction initialValues(data) {\r\n  return {\r\n    title: data?.title || \"\",\r\n    image: \"\",\r\n  };\r\n}\r\n\r\nfunction newSchema() {\r\n  return {\r\n    title: Yup.string().required(true),\r\n    image: Yup.string().required(true),\r\n  };\r\n}\r\n\r\nfunction updateSchema() {\r\n  return {\r\n    title: Yup.string().required(true),\r\n    image: Yup.string(),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Table, Image, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport \"./TableProductAdmin.scss\";\r\n\r\nexport function TableProductAdmin(props) {\r\n  const { products, updateProduct, deleteProduct } = props;\r\n\r\n  return (\r\n    <Table className=\"table-product-admin\">\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell>Imagen</Table.HeaderCell>\r\n          <Table.HeaderCell>Producto</Table.HeaderCell>\r\n          <Table.HeaderCell>Precio</Table.HeaderCell>\r\n          <Table.HeaderCell>Categoria</Table.HeaderCell>\r\n          <Table.HeaderCell>Activo</Table.HeaderCell>\r\n          <Table.HeaderCell></Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n\r\n      <Table.Body>\r\n        {map(products, (product, index) => (\r\n          <Table.Row key={index}>\r\n            <Table.Cell width={2}>\r\n              <Image src={product.image} />\r\n            </Table.Cell>\r\n            <Table.Cell>{product.title}</Table.Cell>\r\n            <Table.Cell>{product.price} €</Table.Cell>\r\n            <Table.Cell>{product.category_data.title}</Table.Cell>\r\n            <Table.Cell className=\"status\">\r\n              {product.active ? <Icon name=\"check\" /> : <Icon name=\"close\" />}\r\n            </Table.Cell>\r\n\r\n            <Actions\r\n              product={product}\r\n              updateProduct={updateProduct}\r\n              deleteProduct={deleteProduct}\r\n            />\r\n          </Table.Row>\r\n        ))}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n}\r\n\r\nfunction Actions(props) {\r\n  const { product, updateProduct, deleteProduct } = props;\r\n\r\n  return (\r\n    <Table.Cell textAlign=\"right\">\r\n      <Button icon onClick={() => updateProduct(product)}>\r\n        <Icon name=\"pencil\" />\r\n      </Button>\r\n      <Button icon negative onClick={() => deleteProduct(product)}>\r\n        <Icon name=\"close\" />\r\n      </Button>\r\n    </Table.Cell>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Form, Image, Button, Dropdown, Checkbox } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useCategory, useProduct } from \"../../../../hooks\";\r\nimport \"./AddEditProductForm.scss\";\r\n\r\nexport function AddEditProductForm(props) {\r\n  const { onClose, onRefetch, product } = props;\r\n  const [categoriesFormat, setCategoriesFormat] = useState([]);\r\n  const [previewImage, setPreviewImage] = useState(\r\n    product ? product?.image : null\r\n  );\r\n  const { categories, getCategories } = useCategory();\r\n  const { addProduct, updateProduct } = useProduct();\r\n\r\n  useEffect(() => getCategories(), []);\r\n  useEffect(() => {\r\n    setCategoriesFormat(formatDropdownData(categories));\r\n  }, [categories]);\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(product),\r\n    validationSchema: Yup.object(product ? updateSchema() : newSchema()),\r\n    validateOnChange: false,\r\n    onSubmit: async (formValue) => {\r\n      if (product) await updateProduct(product.id, formValue);\r\n      else await addProduct(formValue);\r\n\r\n      onRefetch();\r\n      onClose();\r\n    },\r\n  });\r\n\r\n  const onDrop = useCallback(async (acceptedFile) => {\r\n    const file = acceptedFile[0];\r\n    await formik.setFieldValue(\"image\", file);\r\n    setPreviewImage(URL.createObjectURL(file));\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: \"image/jpeg, image/png\",\r\n    noKeyboard: true,\r\n    multiple: false,\r\n    onDrop,\r\n  });\r\n\r\n  return (\r\n    <Form className=\"add-edit-product-form\" onSubmit={formik.handleSubmit}>\r\n      <Form.Input\r\n        name=\"title\"\r\n        placeholder=\"Nombre del producto\"\r\n        value={formik.values.title}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.title}\r\n      />\r\n      <Form.Input\r\n        type=\"number\"\r\n        name=\"price\"\r\n        placeholder=\"Precio\"\r\n        value={formik.values.price}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.price}\r\n      />\r\n\r\n      <Dropdown\r\n        placeholder=\"Categoria\"\r\n        fluid\r\n        selection\r\n        search\r\n        options={categoriesFormat}\r\n        value={formik.values.category}\r\n        error={formik.errors.category}\r\n        onChange={(_, data) => formik.setFieldValue(\"category\", data.value)}\r\n      />\r\n\r\n      <div className=\"add-edit-product-form__active\">\r\n        <Checkbox\r\n          toggle\r\n          checked={formik.values.active}\r\n          onChange={(_, data) => formik.setFieldValue(\"active\", data.checked)}\r\n        />\r\n        Producto activo\r\n      </div>\r\n\r\n      <Button\r\n        type=\"button\"\r\n        fluid\r\n        {...getRootProps()}\r\n        color={formik.errors.image && \"red\"}\r\n      >\r\n        {previewImage ? \"Cambiar imagen\" : \"Subir imagen\"}\r\n      </Button>\r\n      <input {...getInputProps()} />\r\n      <Image src={previewImage} />\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        primary\r\n        fluid\r\n        content={product ? \"Actualizar\" : \"Crear\"}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction formatDropdownData(data) {\r\n  return map(data, (item) => ({\r\n    key: item.id,\r\n    text: item.title,\r\n    value: item.id,\r\n  }));\r\n}\r\n\r\nfunction initialValues(data) {\r\n  return {\r\n    title: data?.title || \"\",\r\n    price: data?.price || \"\",\r\n    category: data?.category || \"\",\r\n    active: data?.active ? true : false,\r\n    image: \"\",\r\n  };\r\n}\r\n\r\nfunction newSchema() {\r\n  return {\r\n    title: Yup.string().required(true),\r\n    price: Yup.number().required(true),\r\n    category: Yup.number().required(true),\r\n    active: Yup.boolean().required(true),\r\n    image: Yup.string().required(true),\r\n  };\r\n}\r\n\r\nfunction updateSchema() {\r\n  return {\r\n    title: Yup.string().required(true),\r\n    price: Yup.number().required(true),\r\n    category: Yup.number().required(true),\r\n    active: Yup.boolean().required(true),\r\n    image: Yup.string(),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Modal } from \"semantic-ui-react\";\r\nimport \"./ModalBasic.scss\";\r\n\r\nexport function ModalBasic(props) {\r\n  const { show, size, title, children, onClose } = props;\r\n\r\n  return (\r\n    <Modal className=\"modal-basic\" open={show} onClose={onClose} size={size}>\r\n      {title && <Modal.Header>{title}</Modal.Header>}\r\n      <Modal.Content>{children}</Modal.Content>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nModalBasic.defaultProps = {\r\n  size: \"tiny\",\r\n};\r\n","import React from \"react\";\r\nimport { Button, Modal } from \"semantic-ui-react\";\r\nimport \"./ModalConfirm.scss\";\r\n\r\nexport function ModalConfirm(props) {\r\n  const { title, show, onClose, onCloseText, onConfirm, onConfirmText } = props;\r\n\r\n  return (\r\n    <Modal className=\"modal-confirm\" open={show} size=\"mini\">\r\n      {title && <Modal.Header>{title}</Modal.Header>}\r\n\r\n      <Modal.Actions>\r\n        <Button negative onClick={onClose}>\r\n          {onCloseText || \"Cancelar\"}\r\n        </Button>\r\n        <Button positive onClick={onConfirm}>\r\n          {onConfirmText || \"Aceptar\"}\r\n        </Button>\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Table, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { ModalBasic } from \"../../../Common\";\r\nimport \"./TableTablesAdmin.scss\";\r\n\r\nexport function TableTablesAdmin(props) {\r\n  const { tables, updateTable, deleteTable } = props;\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [contentModal, setContentModal] = useState(null);\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n\r\n  const showQr = (table) => {\r\n    setContentModal(\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <QRCode value={`${window.location.origin}/client/${table.number}`} />\r\n      </div>\r\n    );\r\n\r\n    openCloseModal();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table className=\"table-tables-admin\">\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell>Mesa numero</Table.HeaderCell>\r\n            <Table.HeaderCell></Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n\r\n        <Table.Body>\r\n          {map(tables, (table, index) => (\r\n            <Table.Row key={index}>\r\n              <Table.Cell>{table.number}</Table.Cell>\r\n\r\n              <Actions\r\n                table={table}\r\n                updateTable={updateTable}\r\n                deleteTable={deleteTable}\r\n                showQr={showQr}\r\n              />\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title=\"Codigo QR\"\r\n        size=\"mini\"\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Actions(props) {\r\n  const { table, updateTable, deleteTable, showQr } = props;\r\n\r\n  return (\r\n    <Table.Cell textAlign=\"right\">\r\n      <Button icon onClick={() => showQr(table)}>\r\n        <Icon name=\"qrcode\" />\r\n      </Button>\r\n\r\n      <Button icon onClick={() => updateTable(table)}>\r\n        <Icon name=\"pencil\" />\r\n      </Button>\r\n\r\n      <Button icon negative onClick={() => deleteTable(table)}>\r\n        <Icon name=\"close\" />\r\n      </Button>\r\n    </Table.Cell>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Form, Button } from \"semantic-ui-react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useTable } from \"../../../../hooks\";\r\nimport \"./AddEditTableForm.scss\";\r\n\r\nexport function AddEditTableForm(props) {\r\n  const { onClose, onRefetch, table } = props;\r\n  const { addTable, updateTable } = useTable();\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(table),\r\n    validationSchema: Yup.object(validationSchema()),\r\n    validateOnChange: false,\r\n    onSubmit: async (formValue) => {\r\n      if (table) await updateTable(table.id, formValue);\r\n      else await addTable(formValue);\r\n\r\n      onRefetch();\r\n      onClose();\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Form className=\"add-edit-table-form\" onSubmit={formik.handleSubmit}>\r\n      <Form.Input\r\n        name=\"number\"\r\n        type=\"number\"\r\n        placeholder=\"Numer de la measa\"\r\n        value={formik.values.number}\r\n        onChange={formik.handleChange}\r\n        error={formik.errors.number}\r\n      />\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        primary\r\n        fluid\r\n        content={table ? \"Actualizar\" : \"Crear\"}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction initialValues(data) {\r\n  return {\r\n    number: data?.number || \"\",\r\n  };\r\n}\r\n\r\nfunction validationSchema() {\r\n  return {\r\n    number: Yup.number().required(true),\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Icon, Checkbox } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { TableAdmin } from \"../\";\r\nimport \"./TablesListAdmin.scss\";\r\n\r\nexport function TablesListAdmin(props) {\r\n  const { tables } = props;\r\n  const [reload, setReload] = useState(false);\r\n  const [autoReload, setAutoReload] = useState(false);\r\n\r\n  const onReload = () => setReload((prev) => !prev);\r\n\r\n  useEffect(() => {\r\n    if (autoReload) {\r\n      const autoReloadAction = () => {\r\n        onReload();\r\n        setTimeout(() => {\r\n          autoReloadAction();\r\n        }, 5000);\r\n      };\r\n      autoReloadAction();\r\n    }\r\n  }, [autoReload]);\r\n\r\n  const onCheckAutoReload = (check) => {\r\n    if (check) {\r\n      setAutoReload(check);\r\n    } else {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"tables-list-admin\">\r\n      <Button\r\n        primary\r\n        icon\r\n        className=\"tables-list-admin__reaload\"\r\n        onClick={onReload}\r\n      >\r\n        <Icon name=\"refresh\" />\r\n      </Button>\r\n\r\n      <div className=\"tables-list-admin__reaload-toggle\">\r\n        <span>Relaod automatico</span>\r\n        <Checkbox\r\n          toggle\r\n          checked={autoReload}\r\n          onChange={(_, data) => onCheckAutoReload(data.checked)}\r\n        />\r\n      </div>\r\n\r\n      {map(tables, (table) => (\r\n        <TableAdmin key={table.number} table={table} reload={reload} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M480,85.333c-17.646,0-32,14.354-32,32V256h-74.667c-17.646,0-32,14.354-32,32s14.354,32,32,32h53.333v85.333h-32 c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667H480c5.896,0,10.667-4.771,10.667-10.667 c0-5.896-4.771-10.667-10.667-10.667h-32V320h32c17.646,0,32-14.354,32-32V117.333C512,99.688,497.646,85.333,480,85.333z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M138.667,256H64V117.333c0-17.646-14.354-32-32-32s-32,14.354-32,32V288c0,17.646,14.354,32,32,32h32v85.333H32 c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667h85.333c5.896,0,10.667-4.771,10.667-10.667 c0-5.896-4.771-10.667-10.667-10.667h-32V320h53.333c17.646,0,32-14.354,32-32S156.313,256,138.667,256z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M284.99,243.75c9.333,5.74,19.917,12.25,40.281,12.25c20.365,0,30.948-6.51,40.281-12.25 c8.26-5.073,14.781-9.083,29.115-9.083c5.896,0,10.667-4.771,10.667-10.667v-32c0-23.531-19.135-42.667-42.667-42.667H149.333 c-23.531,0-42.667,19.135-42.667,42.667v32c0,5.896,4.771,10.667,10.667,10.667c14.292,0,20.792,4.01,29.031,9.083 c9.323,5.74,19.885,12.25,40.229,12.25c20.333,0,30.906-6.51,40.229-12.25c5.865-3.611,10.964-6.611,18.51-8.082v169.665h-42.667 c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667h106.667c5.896,0,10.667-4.771,10.667-10.667 c0-5.896-4.771-10.667-10.667-10.667h-42.667V235.727C274.094,237.216,279.173,240.178,284.99,243.75z\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgTable(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTable);\nexport default __webpack_public_path__ + \"static/media/table.98606dc6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\r\nimport { Label } from \"semantic-ui-react\";\r\nimport { size } from \"lodash\";\r\nimport classNames from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getOrdersByTableApi } from \"../../../../api/orders\";\r\nimport { ORDER_STATUS } from \"../../../../utils/constants\";\r\nimport { ReactComponent as IcTable } from \"../../../../assets/table.svg\";\r\nimport { usePayment } from \"../../../../hooks\";\r\nimport \"./TableAdmin.scss\";\r\n\r\nexport function TableAdmin(props) {\r\n  const { table, reload } = props;\r\n  const [orders, setOrders] = useState([]);\r\n  const [tableBusy, setTableBusy] = useState(false);\r\n  const [pendingPayment, setPendingPayment] = useState(false);\r\n  const { getPaymentByTable } = usePayment();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getOrdersByTableApi(\r\n        table.id,\r\n        ORDER_STATUS.PENDING\r\n      );\r\n      setOrders(response);\r\n    })();\r\n  }, [reload]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getOrdersByTableApi(\r\n        table.id,\r\n        ORDER_STATUS.DELIVERED\r\n      );\r\n\r\n      if (size(response) > 0) setTableBusy(response);\r\n      else setTableBusy(false);\r\n    })();\r\n  }, [reload]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getPaymentByTable(table.id);\r\n      if (size(response) > 0) setPendingPayment(true);\r\n      else setPendingPayment(false);\r\n    })();\r\n  }, [reload]);\r\n\r\n  return (\r\n    <Link className=\"table-admin\" to={`/admin/table/${table.id}`}>\r\n      {size(orders) > 0 ? (\r\n        <Label circular color=\"orange\">\r\n          {size(orders)}\r\n        </Label>\r\n      ) : null}\r\n\r\n      {pendingPayment && (\r\n        <Label circular color=\"orange\">\r\n          Cuenta\r\n        </Label>\r\n      )}\r\n\r\n      <IcTable\r\n        className={classNames({\r\n          pending: size(orders) > 0,\r\n          busy: tableBusy,\r\n          \"pending-payment\": pendingPayment,\r\n        })}\r\n      />\r\n      <p>Mesa {table.number}</p>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Image, Button, Dropdown } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useProduct, useOrder } from \"../../../../hooks\";\r\nimport \"./AddOrderForm.scss\";\r\n\r\nexport function AddOrderForm(props) {\r\n  const { idTable, openCloseModal, onReloadOrders } = props;\r\n  const [productsFormat, setProductsFormat] = useState([]);\r\n  const [productsData, setProductsData] = useState([]);\r\n  const { products, getProducts, getProductById } = useProduct();\r\n  const { addOrderToTable } = useOrder();\r\n\r\n  useEffect(() => getProducts(), []);\r\n  useEffect(() => setProductsFormat(formatDropdownData(products)), [products]);\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(),\r\n    validationSchema: Yup.object(validationSchema()),\r\n    validateOnChange: false,\r\n    onSubmit: async (formValue) => {\r\n      for await (const idProduct of formValue.products) {\r\n        await addOrderToTable(idTable, idProduct);\r\n      }\r\n\r\n      onReloadOrders();\r\n      openCloseModal();\r\n    },\r\n  });\r\n\r\n  useEffect(() => addProductList(), [formik.values]);\r\n\r\n  const addProductList = async () => {\r\n    try {\r\n      const productsId = formik.values.products;\r\n\r\n      const arrayTemp = [];\r\n      for await (const idProduct of productsId) {\r\n        const response = await getProductById(idProduct);\r\n        arrayTemp.push(response);\r\n      }\r\n      setProductsData(arrayTemp);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeProductList = (index) => {\r\n    const idProducts = [...formik.values.products];\r\n    idProducts.splice(index, 1);\r\n    formik.setFieldValue(\"products\", idProducts);\r\n  };\r\n\r\n  return (\r\n    <Form className=\"add-order-form\" onSubmit={formik.handleSubmit}>\r\n      <Dropdown\r\n        placeholder=\"Productos\"\r\n        fluid\r\n        selection\r\n        search\r\n        options={productsFormat}\r\n        value={null}\r\n        onChange={(_, data) =>\r\n          formik.setFieldValue(\"products\", [\r\n            ...formik.values.products,\r\n            data.value,\r\n          ])\r\n        }\r\n      />\r\n\r\n      <div className=\"add-order-form__list\">\r\n        {map(productsData, (product, index) => (\r\n          <div className=\"add-order-form__list-product\" key={index}>\r\n            <div>\r\n              <Image src={product.image} avatar size=\"tiny\" />\r\n              <span>{product.title}</span>\r\n            </div>\r\n            <Button\r\n              type=\"button\"\r\n              content=\"Eliminar\"\r\n              basic\r\n              color=\"red\"\r\n              onClick={() => removeProductList(index)}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        primary\r\n        fluid\r\n        content=\"Añadir productos a la mesa\"\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction formatDropdownData(data) {\r\n  return map(data, (item) => ({\r\n    key: item.id,\r\n    text: item.title,\r\n    value: item.id,\r\n  }));\r\n}\r\n\r\nfunction initialValues() {\r\n  return {\r\n    products: [],\r\n  };\r\n}\r\n\r\nfunction validationSchema() {\r\n  return {\r\n    products: Yup.array().required(true),\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Table, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { ModalBasic } from \"../../../Common\";\r\nimport { PaymentProductList } from \"../../../Admin\";\r\nimport \"./TablePayments.scss\";\r\n\r\nexport function TablePayments(props) {\r\n  const { payments } = props;\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [titleModal, setTitleModal] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n\r\n  const getIconPaymentName = (key) => {\r\n    if (key === \"CARD\") return \"credit card outline\";\r\n    if (key === \"CASH\") return \"money bill alternate outline\";\r\n    return null;\r\n  };\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n\r\n  const showDetails = (payment) => {\r\n    setTitleModal(`Pedidos de la mesa ${payment.table_data.number}`);\r\n    setContentModal(<PaymentProductList payment={payment} />);\r\n    openCloseModal();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table className=\"table-payments-admin\">\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell>ID</Table.HeaderCell>\r\n            <Table.HeaderCell>Mesa</Table.HeaderCell>\r\n            <Table.HeaderCell>Total</Table.HeaderCell>\r\n            <Table.HeaderCell>Tipo de pago</Table.HeaderCell>\r\n            <Table.HeaderCell>Fecha</Table.HeaderCell>\r\n            <Table.HeaderCell></Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n\r\n        <Table.Body>\r\n          {map(payments, (payment, index) => (\r\n            <Table.Row key={index}>\r\n              <Table.Cell>{payment.id}</Table.Cell>\r\n              <Table.Cell>{payment.table_data.number}</Table.Cell>\r\n              <Table.Cell>{payment.totalPayment} €</Table.Cell>\r\n              <Table.Cell>\r\n                <Icon name={getIconPaymentName(payment.paymentType)} />\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                {moment(payment.created_at).format(\"DD/MM/YYYY - HH:MM\")}\r\n              </Table.Cell>\r\n              <Table.Cell textAlign=\"right\">\r\n                <Button icon onClick={() => showDetails(payment)}>\r\n                  <Icon name=\"eye\" />\r\n                </Button>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title={titleModal}\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Image } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { useOrder } from \"../../../../hooks\";\r\nimport \"./PaymentProductList.scss\";\r\n\r\nexport function PaymentProductList(props) {\r\n  const { payment } = props;\r\n  const [orders, setOrders] = useState([]);\r\n  const { getOrdersByPayment } = useOrder();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getOrdersByPayment(payment.id);\r\n      setOrders(response);\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"payment-product-list\">\r\n      {map(orders, (order) => (\r\n        <div className=\"payment-product-list__product\" key={order.id}>\r\n          <div>\r\n            <Image src={order.product_data.image} avatar size=\"tiny\" />\r\n            <span>{order.product_data.title}</span>\r\n          </div>\r\n          <span>{order.product_data.price} €</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { LoginForm } from \"../../../components/Admin\";\r\nimport \"./LoginAdmin.scss\";\r\n\r\nexport function LoginAdmin() {\r\n  return (\r\n    <div className=\"login-admin\">\r\n      <div className=\"login-admin__content\">\r\n        <h1>Entrar al panel</h1>\r\n        <LoginForm />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { map } from \"lodash\";\r\nimport { OrderItemAdmin } from \"../\";\r\nimport \"./ListOrderAdmin.scss\";\r\n\r\nexport function ListOrderAdmin(props) {\r\n  const { orders, onReloadOrders } = props;\r\n\r\n  return (\r\n    <div className=\"list-orders-admin\">\r\n      {map(orders, (order) => (\r\n        <OrderItemAdmin\r\n          key={order.id}\r\n          order={order}\r\n          onReloadOrders={onReloadOrders}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Image } from \"semantic-ui-react\";\r\nimport classNames from \"classnames\";\r\nimport moment from \"moment\";\r\nimport { useOrder } from \"../../../../hooks\";\r\nimport { ORDER_STATUS } from \"../../../../utils/constants\";\r\nimport \"moment/locale/es\";\r\nimport \"./OrderItemAdmin.scss\";\r\n\r\nexport function OrderItemAdmin(props) {\r\n  const { order, onReloadOrders } = props;\r\n  const { title, image } = order.product_data;\r\n  const { checkDeliveredOrder } = useOrder();\r\n\r\n  const onCheckDeliveredOrder = async () => {\r\n    await checkDeliveredOrder(order.id);\r\n    onReloadOrders();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"order-item-admin\", {\r\n        [order.status.toLowerCase()]: true,\r\n      })}\r\n    >\r\n      <div className=\"order-item-admin__time\">\r\n        <span>{moment(order.created_at).format(\"HH:mm\")}</span> {\" - \"}\r\n        <span>{moment(order.created_at).startOf(\"secods\").fromNow()}</span>\r\n      </div>\r\n\r\n      <div className=\"order-item-admin__product\">\r\n        <Image src={image} />\r\n        <p>{title}</p>\r\n      </div>\r\n\r\n      {order.status === ORDER_STATUS.PENDING && (\r\n        <Button primary onClick={onCheckDeliveredOrder}>\r\n          Marcar entregado\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Table, Button, Icon } from \"semantic-ui-react\";\r\nimport { usePayment, useOrder } from \"../../../../hooks\";\r\nimport \"./PaymentDetail.scss\";\r\n\r\nexport function PaymentDetail(props) {\r\n  const { payment, orders, openCloseModal, onReloadOrders } = props;\r\n  const { closePayment } = usePayment();\r\n  const { closeOrder } = useOrder();\r\n\r\n  const getIconPayment = (key) => {\r\n    if (key === \"CARD\") return \"credit card outline\";\r\n    if (key === \"CASH\") return \"money bill alternate outline\";\r\n    return null;\r\n  };\r\n\r\n  const onCloseTable = async () => {\r\n    const result = window.confirm(\"¿Cerrar mesa para nuevos clientes?\");\r\n    if (result) {\r\n      await closePayment(payment.id);\r\n\r\n      for await (const order of orders) {\r\n        await closeOrder(order.id);\r\n      }\r\n\r\n      onReloadOrders();\r\n      openCloseModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment-detail\">\r\n      <Table striped>\r\n        <Table.Body>\r\n          <Table.Row>\r\n            <Table.Cell>Mesa:</Table.Cell>\r\n            <Table.Cell>{payment.table_data.number}</Table.Cell>\r\n          </Table.Row>\r\n          <Table.Row>\r\n            <Table.Cell>Total:</Table.Cell>\r\n            <Table.Cell>{payment.totalPayment} €</Table.Cell>\r\n          </Table.Row>\r\n          <Table.Row>\r\n            <Table.Cell>Forma de pago:</Table.Cell>\r\n            <Table.Cell>\r\n              <Icon name={getIconPayment(payment.paymentType)} />\r\n            </Table.Cell>\r\n          </Table.Row>\r\n        </Table.Body>\r\n      </Table>\r\n\r\n      <Button primary fluid onClick={onCloseTable}>\r\n        Marcar como pagado y cerrar mesa\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { LoginAdmin } from \"../../pages/Admin\";\r\nimport { TopMenu, SideMenu } from \"../../components/Admin\";\r\nimport { useAuth } from \"../../hooks\";\r\nimport \"./AdminLayout.scss\";\r\n\r\nexport function AdminLayout(props) {\r\n  const { children } = props;\r\n  const { auth } = useAuth();\r\n\r\n  if (!auth) return <LoginAdmin />;\r\n\r\n  return (\r\n    <div className=\"admin-layout\">\r\n      <div className=\"admin-layout__menu\">\r\n        <TopMenu />\r\n      </div>\r\n\r\n      <div className=\"admin-layout__main-content\">\r\n        <SideMenu>{children}</SideMenu>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export function BasicLayout(props) {\r\n  const { children } = props;\r\n\r\n  return children;\r\n}\r\n","import { AdminLayout } from \"../layouts\";\r\nimport {\r\n  UsersAdmin,\r\n  CategoriesAdmin,\r\n  ProductAdmin,\r\n  TablesAdmin,\r\n  OrdersAdmin,\r\n  TableDetailsAdmin,\r\n  PaymentsHistory,\r\n} from \"../pages/Admin\";\r\n\r\nconst routesAdmin = [\r\n  {\r\n    path: \"/admin\",\r\n    layout: AdminLayout,\r\n    component: OrdersAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/users\",\r\n    layout: AdminLayout,\r\n    component: UsersAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/categories\",\r\n    layout: AdminLayout,\r\n    component: CategoriesAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/products\",\r\n    layout: AdminLayout,\r\n    component: ProductAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/tables\",\r\n    layout: AdminLayout,\r\n    component: TablesAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/table/:id\",\r\n    layout: AdminLayout,\r\n    component: TableDetailsAdmin,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/admin/payments-history\",\r\n    layout: AdminLayout,\r\n    component: PaymentsHistory,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routesAdmin;\r\n","import React, { useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { HeaderPage, TablesListAdmin } from \"../../components/Admin\";\r\nimport { useTable } from \"../../hooks\";\r\n\r\nexport function OrdersAdmin() {\r\n  const { loading, tables, getTables } = useTable();\r\n\r\n  useEffect(() => getTables(), []);\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage title=\"Restaurante\" />\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TablesListAdmin tables={tables} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport {\r\n  HeaderPage,\r\n  TableUsers,\r\n  AddEditUserForm,\r\n} from \"../../components/Admin\";\r\nimport { ModalBasic } from \"../../components/Common\";\r\nimport { useUser } from \"../../hooks\";\r\n\r\nexport function UsersAdmin() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [titleModal, setTitleModal] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [refetch, setRefetch] = useState(false);\r\n  const { loading, users, getUsers, deleteUser } = useUser();\r\n\r\n  useEffect(() => getUsers(), [refetch]);\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n  const onRefetch = () => setRefetch((prev) => !prev);\r\n\r\n  const addUser = () => {\r\n    setTitleModal(\"Nuevo usuario\");\r\n    setContentModal(\r\n      <AddEditUserForm onClose={openCloseModal} onRefetch={onRefetch} />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const updateUser = (data) => {\r\n    setTitleModal(\"Actualizar usuario\");\r\n    setContentModal(\r\n      <AddEditUserForm\r\n        onClose={openCloseModal}\r\n        onRefetch={onRefetch}\r\n        user={data}\r\n      />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const onDeleteUser = async (data) => {\r\n    const result = window.confirm(`¿Eliminar usuario ${data.email}?`);\r\n    if (result) {\r\n      try {\r\n        await deleteUser(data.id);\r\n        onRefetch();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage\r\n        title=\"Usuarios\"\r\n        btnTitle=\"Nuevo usuario\"\r\n        btnClick={addUser}\r\n      />\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TableUsers\r\n          users={users}\r\n          updateUser={updateUser}\r\n          onDeleteUser={onDeleteUser}\r\n        />\r\n      )}\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title={titleModal}\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport {\r\n  HeaderPage,\r\n  TableCategoryAdmin,\r\n  AddEditCategoryForm,\r\n} from \"../../components/Admin\";\r\nimport { ModalBasic } from \"../../components/Common\";\r\nimport { useCategory } from \"../../hooks\";\r\n\r\nexport function CategoriesAdmin() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [titleModal, setTitleModal] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [refetch, setRefetch] = useState(false);\r\n  const { loading, categories, getCategories, deleteCategory } = useCategory();\r\n\r\n  useEffect(() => getCategories(), [refetch]);\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n  const onRefetch = () => setRefetch((prev) => !prev);\r\n\r\n  const addCategory = () => {\r\n    setTitleModal(\"Nueva categoria\");\r\n    setContentModal(\r\n      <AddEditCategoryForm onClose={openCloseModal} onRefetch={onRefetch} />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const updateCategory = (data) => {\r\n    setTitleModal(\"Actualizar categoria\");\r\n    setContentModal(\r\n      <AddEditCategoryForm\r\n        onClose={openCloseModal}\r\n        onRefetch={onRefetch}\r\n        category={data}\r\n      />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const onDeleteCategory = async (data) => {\r\n    const result = window.confirm(`¿Eliminar categoría ${data.title}?`);\r\n    if (result) {\r\n      await deleteCategory(data.id);\r\n      onRefetch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage\r\n        title=\"Categorias\"\r\n        btnTitle=\"Nueva categoria\"\r\n        btnClick={addCategory}\r\n      />\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TableCategoryAdmin\r\n          categories={categories}\r\n          updateCategory={updateCategory}\r\n          deleteCategory={onDeleteCategory}\r\n        />\r\n      )}\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title={titleModal}\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport {\r\n  HeaderPage,\r\n  TableProductAdmin,\r\n  AddEditProductForm,\r\n} from \"../../components/Admin\";\r\nimport { ModalBasic } from \"../../components/Common\";\r\nimport { useProduct } from \"../../hooks\";\r\n\r\nexport function ProductAdmin() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [titleModal, setTitleModal] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [refetch, setRefetch] = useState(false);\r\n  const { loading, products, getProducts, deleteProduct } = useProduct();\r\n\r\n  useEffect(() => getProducts(), [refetch]);\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n  const onRefetch = () => setRefetch((prev) => !prev);\r\n\r\n  const addProduct = () => {\r\n    setTitleModal(\"Nuevo producto\");\r\n    setContentModal(\r\n      <AddEditProductForm onClose={openCloseModal} onRefetch={onRefetch} />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const updateProduct = (data) => {\r\n    setTitleModal(\"Actualizar producto\");\r\n    setContentModal(\r\n      <AddEditProductForm\r\n        onClose={openCloseModal}\r\n        onRefetch={onRefetch}\r\n        product={data}\r\n      />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const onDeleteProduct = async (data) => {\r\n    const result = window.confirm(`¿Eliminar producto ${data.title}?`);\r\n    if (result) {\r\n      await deleteProduct(data.id);\r\n      onRefetch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage\r\n        title=\"Productos\"\r\n        btnTitle=\"Nuevo producto\"\r\n        btnClick={addProduct}\r\n      />\r\n\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TableProductAdmin\r\n          products={products}\r\n          updateProduct={updateProduct}\r\n          deleteProduct={onDeleteProduct}\r\n        />\r\n      )}\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title={titleModal}\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport {\r\n  HeaderPage,\r\n  TableTablesAdmin,\r\n  AddEditTableForm,\r\n} from \"../../components/Admin\";\r\nimport { ModalBasic } from \"../../components/Common\";\r\nimport { useTable } from \"../../hooks\";\r\n\r\nexport function TablesAdmin() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [titleModal, setTitleModal] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [refetch, setRefetch] = useState(false);\r\n  const { loading, tables, getTables, deleteTable } = useTable();\r\n\r\n  useEffect(() => getTables(), [refetch]);\r\n\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n  const onRefetch = () => setRefetch((prev) => !prev);\r\n\r\n  const addTable = () => {\r\n    setTitleModal(\"Crear mesa\");\r\n    setContentModal(\r\n      <AddEditTableForm onClose={openCloseModal} onRefetch={onRefetch} />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const updateTable = (data) => {\r\n    setTitleModal(\"Actualizar mesa\");\r\n    setContentModal(\r\n      <AddEditTableForm\r\n        onClose={openCloseModal}\r\n        onRefetch={onRefetch}\r\n        table={data}\r\n      />\r\n    );\r\n    openCloseModal();\r\n  };\r\n\r\n  const onDeleteTable = async (data) => {\r\n    const result = window.confirm(`¿Eliminar mesa ${data.number}?`);\r\n    if (result) {\r\n      await deleteTable(data.id);\r\n      onRefetch();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage\r\n        title=\"Mesas\"\r\n        btnTitle=\"Crear nueva mesa\"\r\n        btnClick={addTable}\r\n      />\r\n\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TableTablesAdmin\r\n          tables={tables}\r\n          updateTable={updateTable}\r\n          deleteTable={onDeleteTable}\r\n        />\r\n      )}\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title={titleModal}\r\n        children={contentModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { forEach, size } from \"lodash\";\r\nimport { HeaderPage, AddOrderForm } from \"../../components/Admin\";\r\nimport { ModalBasic } from \"../../components/Common\";\r\nimport {\r\n  ListOrderAdmin,\r\n  PaymentDetail,\r\n} from \"../../components/Admin/TableDetails\";\r\nimport { useOrder, useTable, usePayment } from \"../../hooks\";\r\n\r\nexport function TableDetailsAdmin() {\r\n  const [reloadOrders, setReloadOrders] = useState(false);\r\n  const [paymentData, setPaymentData] = useState(null);\r\n  const { id } = useParams();\r\n  const { loading, orders, getOrdersByTable, addPaymentToOrder } = useOrder();\r\n  const { table, getTable } = useTable();\r\n  const { createPayment, getPaymentByTable } = usePayment();\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getOrdersByTable(id, \"\", \"ordering=-status,created_at\");\r\n  }, [id, reloadOrders]);\r\n\r\n  useEffect(() => getTable(id), [id]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getPaymentByTable(id);\r\n      if (size(response) > 0) setPaymentData(response[0]);\r\n    })();\r\n  }, [reloadOrders]);\r\n\r\n  const onReloadOrders = () => setReloadOrders((prev) => !prev);\r\n  const openCloseModal = () => setShowModal((prev) => !prev);\r\n\r\n  const onCreatePayment = async () => {\r\n    const result = window.confirm(\r\n      \"¿Estas seguro de generar la cuenta de la mesa?\"\r\n    );\r\n\r\n    if (result) {\r\n      let totalPayment = 0;\r\n      forEach(orders, (order) => {\r\n        totalPayment += Number(order.product_data.price);\r\n      });\r\n\r\n      const resultTypePayment = window.confirm(\r\n        \"¿Pago con tarjeta pusa ACEPTAR con efectivo pusa CANCELAR\"\r\n      );\r\n\r\n      const paymentData = {\r\n        table: id,\r\n        totalPayment: totalPayment.toFixed(2),\r\n        paymentType: resultTypePayment ? \"CARD\" : \"CASH\",\r\n        statusPayment: \"PENDING\",\r\n      };\r\n\r\n      const payment = await createPayment(paymentData);\r\n\r\n      for await (const order of orders) {\r\n        await addPaymentToOrder(order.id, payment.id);\r\n      }\r\n      onReloadOrders();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage\r\n        title={`Mesa ${table?.number || \"\"}`}\r\n        btnTitle={paymentData ? \"Ver cuenta\" : \"Añadir pedido\"}\r\n        btnClick={openCloseModal}\r\n        btnTitleTwo={!paymentData ? \"Generar cuenta\" : null}\r\n        btnClickTwo={onCreatePayment}\r\n      />\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <ListOrderAdmin orders={orders} onReloadOrders={onReloadOrders} />\r\n      )}\r\n\r\n      <ModalBasic\r\n        show={showModal}\r\n        onClose={openCloseModal}\r\n        title=\"Generar pedido\"\r\n      >\r\n        {paymentData ? (\r\n          <PaymentDetail\r\n            payment={paymentData}\r\n            orders={orders}\r\n            openCloseModal={openCloseModal}\r\n            onReloadOrders={onReloadOrders}\r\n          />\r\n        ) : (\r\n          <AddOrderForm\r\n            idTable={id}\r\n            openCloseModal={openCloseModal}\r\n            onReloadOrders={onReloadOrders}\r\n          />\r\n        )}\r\n      </ModalBasic>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { HeaderPage, TablePayments } from \"../../components/Admin\";\r\nimport { usePayment } from \"../../hooks\";\r\n\r\nexport function PaymentsHistory() {\r\n  const { loading, payments, getPayments } = usePayment();\r\n\r\n  useEffect(() => getPayments(), []);\r\n\r\n  return (\r\n    <>\r\n      <HeaderPage title=\"Historial de pagos\" />\r\n      {loading ? (\r\n        <Loader active inline=\"centered\">\r\n          Cargando...\r\n        </Loader>\r\n      ) : (\r\n        <TablePayments payments={payments} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Image } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport \"./ListCategories.scss\";\r\n\r\nexport function ListCategories(props) {\r\n  const { categories } = props;\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const goToCategory = (id) => {\r\n    history.push(`${location.pathname}/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"list-categories-client\">\r\n      {map(categories, (category) => (\r\n        <div\r\n          key={category.id}\r\n          className=\"list-categories-client__category\"\r\n          onClick={() => goToCategory(category.id)}\r\n        >\r\n          <Image src={category.image} size=\"small\" />\r\n          <span>{category.title}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","const PRODUCT_CART = \"productsCart\";\r\n\r\nexport function getProductsCart() {\r\n  const response = localStorage.getItem(PRODUCT_CART);\r\n  return JSON.parse(response || \"[]\");\r\n}\r\n\r\nexport function addProductCart(id) {\r\n  const products = getProductsCart();\r\n  products.push(id);\r\n  localStorage.setItem(PRODUCT_CART, JSON.stringify(products));\r\n}\r\n\r\nexport function removeProductCartApi(index) {\r\n  const idProducts = getProductsCart();\r\n  idProducts.splice(index, 1);\r\n  localStorage.setItem(PRODUCT_CART, JSON.stringify(idProducts));\r\n}\r\n\r\nexport function cleanProductCartApi() {\r\n  localStorage.removeItem(PRODUCT_CART);\r\n}\r\n","import React from \"react\";\r\nimport { Image, Button, Icon } from \"semantic-ui-react\";\r\nimport { map } from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\nimport { addProductCart } from \"../../../api/cart\";\r\nimport \"./ListProducts.scss\";\r\n\r\nexport function ListProducts(props) {\r\n  const { products } = props;\r\n\r\n  const addCart = (product) => {\r\n    addProductCart(product.id);\r\n    toast.success(`${product.title} añadido al carrito`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"list-products-client\">\r\n      {map(products, (product) => (\r\n        <div key={product.id} className=\"list-products-client__product\">\r\n          <div>\r\n            <Image src={product.image} />\r\n            <span>{product.title}</span>\r\n          </div>\r\n          <Button primary icon onClick={() => addCart(product)}>\r\n            <Icon name=\"add\" />\r\n          </Button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Image, Button, Icon } from \"semantic-ui-react\";\r\nimport { map, forEach } from \"lodash\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useOrder, useTable } from \"../../../hooks\";\r\nimport { removeProductCartApi, cleanProductCartApi } from \"../../../api/cart\";\r\nimport \"./ListProductCart.scss\";\r\n\r\nexport function ListProductCart(props) {\r\n  const { products, onReloadCart } = props;\r\n  const [total, setTotal] = useState(0);\r\n  const { addOrderToTable } = useOrder();\r\n  const { getTableByNumber } = useTable();\r\n  const { tableNumber } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let totalTemp = 0;\r\n    forEach(products, (product) => {\r\n      totalTemp += Number(product.price);\r\n    });\r\n    setTotal(totalTemp.toFixed(2));\r\n  }, [products]);\r\n\r\n  const removeProduct = (index) => {\r\n    removeProductCartApi(index);\r\n    onReloadCart();\r\n  };\r\n\r\n  const createOrder = async () => {\r\n    const tableData = await getTableByNumber(tableNumber);\r\n    const idTable = tableData[0].id;\r\n\r\n    for await (const product of products) {\r\n      await addOrderToTable(idTable, product.id);\r\n    }\r\n\r\n    cleanProductCartApi();\r\n    history.push(`/client/${tableNumber}/orders`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"list-product-cart\">\r\n      {map(products, (product, index) => (\r\n        <div key={index} className=\"list-product-cart__product\">\r\n          <div>\r\n            <Image src={product.image} avatar />\r\n            <span>{product.title}</span>\r\n          </div>\r\n          <span>{product.price} €</span>\r\n          <Icon name=\"close\" onClick={() => removeProduct(index)} />\r\n        </div>\r\n      ))}\r\n\r\n      <Button primary fluid onClick={createOrder}>\r\n        Realizar pedido ({total} €)\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Image } from \"semantic-ui-react\";\r\nimport classNames from \"classnames\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport { ORDER_STATUS } from \"../../../utils/constants\";\r\nimport \"./OrderHistoryItem.scss\";\r\n\r\nexport function OrderHistoryItem(props) {\r\n  const { order } = props;\r\n  const { title, image } = order.product_data;\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"order-history-item\", {\r\n        [order.status.toLowerCase()]: true,\r\n      })}\r\n    >\r\n      <div className=\"order-history-item__time\">\r\n        <span>\r\n          Pedido {moment(order.created_at).startOf(\"second\").fromNow()}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"order-history-item__product\">\r\n        <Image src={image} />\r\n        <p>{title}</p>\r\n      </div>\r\n\r\n      {order.status === ORDER_STATUS.PENDING ? (\r\n        <span>En marcha</span>\r\n      ) : (\r\n        <span>Entregado</span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { ClientLayout, BasicLayout } from \"../layouts\";\r\nimport {\r\n  SelectTable,\r\n  Categories,\r\n  Products,\r\n  Cart,\r\n  OrdersHistory,\r\n} from \"../pages/Client\";\r\n\r\nconst routesClient = [\r\n  {\r\n    path: \"/\",\r\n    layout: BasicLayout,\r\n    component: SelectTable,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/client/:tableNumber\",\r\n    layout: ClientLayout,\r\n    component: Categories,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/client/:tableNumber/cart\",\r\n    layout: ClientLayout,\r\n    component: Cart,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/client/:tableNumber/orders\",\r\n    layout: ClientLayout,\r\n    component: OrdersHistory,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: \"/client/:tableNumber/:idCategory\",\r\n    layout: ClientLayout,\r\n    component: Products,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routesClient;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"semantic-ui-react\";\r\nimport { useTable } from \"../../../hooks\";\r\nimport \"./SelectTable.scss\";\r\n\r\nexport function SelectTable(props) {\r\n  const { history } = props;\r\n  const [tableNum, setTableNum] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const { isExistTable } = useTable();\r\n\r\n  const onSubmit = async () => {\r\n    setError(null);\r\n    if (!tableNum) {\r\n      setError(\"No has introducido ninguna mesa\");\r\n    } else {\r\n      const exist = await isExistTable(tableNum);\r\n      if (exist) history.push(`/client/${tableNum}`);\r\n      else setError(\"El numero de la mesa no existe\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"select-table\">\r\n      <div className=\"select-table__content\">\r\n        <h1>Bienvenido a Card</h1>\r\n        <h2>Introduce tu numero de mesa puta</h2>\r\n\r\n        <Form onSubmit={onSubmit}>\r\n          <Form.Input\r\n            placeholder=\"Ejemplo: 135, 873, 904, 337\"\r\n            type=\"number\"\r\n            onChange={(_, data) => setTableNum(data.value)}\r\n          />\r\n\r\n          <Button primary fluid>\r\n            Entrar\r\n          </Button>\r\n        </Form>\r\n\r\n        <p className=\"select-table__content-error\">{error}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useCategory } from \"../../hooks\";\r\nimport { ListCategories } from \"../../components/Client\";\r\n\r\nexport function Categories() {\r\n  const { loading, categories, getCategories } = useCategory();\r\n\r\n  useEffect(() => getCategories(), []);\r\n\r\n  return (\r\n    <div>\r\n      <h3>Categorias</h3>\r\n      {loading ? <p>Cargando</p> : <ListCategories categories={categories} />}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { size } from \"lodash\";\r\nimport { useProduct } from \"../../hooks\";\r\nimport { getProductsCart } from \"../../api/cart\";\r\nimport { ListProductCart } from \"../../components/Client\";\r\n\r\nexport function Cart() {\r\n  const [products, setProducts] = useState(null);\r\n  const [reloadCart, setReloadCart] = useState(false);\r\n  const { getProductById } = useProduct();\r\n  const { tableNumber } = useParams();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const idProductsCart = getProductsCart();\r\n\r\n      const productsArray = [];\r\n      for await (const idProduct of idProductsCart) {\r\n        const response = await getProductById(idProduct);\r\n        productsArray.push(response);\r\n      }\r\n      setProducts(productsArray);\r\n    })();\r\n  }, [reloadCart]);\r\n\r\n  const onReloadCart = () => setReloadCart((prev) => !prev);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Carrito</h1>\r\n      {!products ? (\r\n        <p>Cargando...</p>\r\n      ) : size(products) === 0 ? (\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <p>Tu carrito esta vacio</p>\r\n          <Link to={`/client/${tableNumber}/orders`}>\r\n            <Button primary>Ver pedidos</Button>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <ListProductCart products={products} onReloadCart={onReloadCart} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { map, size, forEach } from \"lodash\";\r\nimport { OrderHistoryItem } from \"../../components/Client\";\r\nimport { ModalConfirm } from \"../../components/Common\";\r\nimport { useOrder, useTable, usePayment } from \"../../hooks\";\r\n\r\nexport function OrdersHistory() {\r\n  const [idTable, setIdTable] = useState(null);\r\n  const [showTypePayment, setShowTypePayment] = useState(false);\r\n  const [isRequestAccount, setIsRequestAccount] = useState(false);\r\n  const { loading, orders, getOrdersByTable, addPaymentToOrder } = useOrder();\r\n  const { getTableByNumber } = useTable();\r\n  const { tableNumber } = useParams();\r\n  const { createPayment, getPaymentByTable } = usePayment();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const table = await getTableByNumber(tableNumber);\r\n      const idTableTemp = table[0].id;\r\n      setIdTable(idTableTemp);\r\n\r\n      getOrdersByTable(idTableTemp, \"\", \"ordering=-status,-created_at\");\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (idTable) {\r\n        const response = await getPaymentByTable(idTable);\r\n        setIsRequestAccount(response);\r\n      }\r\n    })();\r\n  }, [idTable]);\r\n\r\n  const onCreatePayment = async (paymentType) => {\r\n    setShowTypePayment(false);\r\n\r\n    let totalPayment = 0;\r\n    forEach(orders, (order) => {\r\n      totalPayment += Number(order.product_data.price);\r\n    });\r\n\r\n    const paymentData = {\r\n      table: idTable,\r\n      totalPayment: totalPayment.toFixed(2),\r\n      paymentType,\r\n      statusPayment: \"PENDING\",\r\n    };\r\n\r\n    const payment = await createPayment(paymentData);\r\n    for await (const order of orders) {\r\n      await addPaymentToOrder(order.id, payment.id);\r\n    }\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Historial de pedidos</h1>\r\n\r\n      {loading ? (\r\n        <p>Cargando...</p>\r\n      ) : (\r\n        <>\r\n          {size(orders) > 0 && (\r\n            <Button\r\n              primary\r\n              fluid\r\n              onClick={() =>\r\n                size(isRequestAccount) === 0 && setShowTypePayment(true)\r\n              }\r\n            >\r\n              {size(isRequestAccount) > 0\r\n                ? \"La cuenta ya esta pedida\"\r\n                : \"Pedir la cuenta\"}\r\n            </Button>\r\n          )}\r\n\r\n          {map(orders, (order) => (\r\n            <OrderHistoryItem key={order.id} order={order} />\r\n          ))}\r\n        </>\r\n      )}\r\n\r\n      <ModalConfirm\r\n        title=\"Pagar con tarjeta o efectivo\"\r\n        show={showTypePayment}\r\n        onCloseText=\"Efectivo\"\r\n        onClose={() => onCreatePayment(\"CASH\")}\r\n        onConfirmText=\"Tarjeta\"\r\n        onConfirm={() => onCreatePayment(\"CARD\")}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useProduct } from \"../../hooks\";\r\nimport { ListProducts } from \"../../components/Client\";\r\n\r\nexport function Products() {\r\n  const { tableNumber, idCategory } = useParams();\r\n  const { loading, products, getProductsByCategory } = useProduct();\r\n\r\n  useEffect(() => getProductsByCategory(idCategory), [idCategory]);\r\n\r\n  return (\r\n    <div>\r\n      <Link to={`/client/${tableNumber}`}>Volver a categorias</Link>\r\n\r\n      {loading ? <p>Cargando...</p> : <ListProducts products={products} />}\r\n    </div>\r\n  );\r\n}\r\n","import routesAdmin from \"./routes.admin\";\r\nimport routesClient from \"./routes.client\";\r\nimport { Error404 } from \"../pages\";\r\nimport { BasicLayout } from \"../layouts\";\r\n\r\nconst routes = [\r\n  ...routesAdmin,\r\n  ...routesClient,\r\n  {\r\n    layout: BasicLayout,\r\n    component: Error404,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\n\r\nexport function Error404() {\r\n  return (\r\n    <div>\r\n      <h3>Error404</h3>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { map } from \"lodash\";\r\nimport routes from \"./routes\";\r\n\r\nexport function Navigation() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        {map(routes, (route, index) => (\r\n          <Route\r\n            key={index}\r\n            path={route.path}\r\n            exact={route.exact}\r\n            render={(props) => (\r\n              <route.layout>\r\n                <route.component {...props} />\r\n              </route.layout>\r\n            )}\r\n          />\r\n        ))}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Navigation } from \"./routes\";\r\nimport { AuthProvider } from \"./context\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Navigation />\r\n\r\n      <ToastContainer\r\n        position=\"bottom-center\"\r\n        autoClose={5000}\r\n        hideProgressBar\r\n        newestOnTop\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover={false}\r\n      />\r\n    </AuthProvider>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./scss/global.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}